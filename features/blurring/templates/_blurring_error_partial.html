{# features/blurring/templates/_blurring_error_partial.html #}
<div class="message-item category-error" role="alert">
    <i class="fas fa-exclamation-triangle" style="margin-right: 8px;"></i>
    {{ error_message|default("An error occurred during image processing.") }}
</div>
{# Display any other flashed messages #}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, msg in messages %}
             {% if msg != error_message %} {# Avoid duplicating the primary error message if it was also flashed #}
            <div class="message-item category-{{ category|default('info') }}" role="alert" style="margin-top: 0.5rem;">
                {% if category == 'error' %}<i class="fas fa-exclamation-triangle" style="margin-right: 8px;"></i>
                {% elif category == 'success' %}<i class="fas fa-check-circle" style="margin-right: 8px;"></i>
                {% elif category == 'warning' %}<i class="fas fa-exclamation-circle" style="margin-right: 8px;"></i>
                {% else %}<i class="fas fa-info-circle" style="margin-right: 8px;"></i>
                {% endif %}
                {{ msg }}
            </div>
            {% endif %}
        {% endfor %}
    {% endif %}
{% endwith %}